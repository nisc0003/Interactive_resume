---
import Mail from "../assets/Mail.svg";
import Paperclip from "../assets/Paperclip.svg";
import Phone from "../assets/Phone.svg";

const { variant = "primary" } = Astro.props;

const iconColors = {
  privateMail: "bg-[var(--color-accent_red)]",
  workMail: "bg-[var(--color-accent_yellow)]",
  call: "bg-[var(--color-accent_green)]",
  download: "bg-[var(--color-accent_blue)]",
};
---

<div class="w-full">
  {
    variant === "privateMail" && (
      <a
        href="mailto:nschou@hotmail.com"
        class="group flex items-center py-2 px-2 rounded-full font-medium transition-all duration-300 border-2 border-white text-white hover:bg-white hover:text-black w-full"
      >
        <div
          class={`w-10 h-10 rounded-full flex items-center justify-center mr-4 flex-shrink-0 ${iconColors[variant]}`}
        >
          <img src={Mail.src} alt="Mail" class="w-5 h-5" />
        </div>
        <div class="flex flex-col justify-center relative w-full text-center">
          <p class="text-md uppercase font-[var(--font-display1)] group-hover:opacity-0 transition-opacity duration-300">
            Privat Mail
          </p>
          <p class="text-md uppercase font-[var(--font-display1)] absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            nschou@hotmail.com
          </p>
        </div>
      </a>
    )
  }

  {
    variant === "workMail" && (
      <a
        href="mailto:nisc0003@stud.ek.dk"
        class="group flex items-center py-2 px-2 rounded-full font-medium transition-all duration-300 border-2 border-white text-white hover:bg-white hover:text-black w-full"
      >
        <div
          class={`w-10 h-10 rounded-full flex items-center justify-center mr-4 flex-shrink-0 ${iconColors[variant]}`}
        >
          <img src={Mail.src} alt="Mail" class="w-5 h-5" />
        </div>
        <div class="flex flex-col justify-center relative w-full text-center">
          <p class="text-md uppercase font-[var(--font-display1)] group-hover:opacity-0 transition-opacity duration-300">
            Studie Mail
          </p>
          <p class="text-md uppercase font-[var(--font-display1)] absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            nisc0003@stud.ek.dk
          </p>
        </div>
      </a>
    )
  }

  {
    variant === "call" && (
      <button
        id="callBtn"
        class="group flex items-center py-2 px-2 rounded-full font-medium transition-all duration-300 border-2 border-white text-white hover:bg-white hover:text-black w-full"
      >
        <div
          class={`w-10 h-10 rounded-full flex items-center justify-center mr-4 flex-shrink-0 ${iconColors[variant]}`}
        >
          <img src={Phone.src} alt="Phone" class="w-5 h-5" />
        </div>
        <div class="flex flex-col justify-center relative w-full text-center">
          <p class="text-md uppercase font-[var(--font-display1)] group-hover:opacity-0 transition-opacity duration-300">
            Telefonnummer
          </p>
          <p class="text-md uppercase font-[var(--font-display1)] absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            61661126
          </p>
        </div>
      </button>
    )
  }

  {
    variant === "download" && (
      <a
        href="/cv.pdf"
        download
        class="group flex items-center py-2 px-2 rounded-full font-medium transition-all duration-300 border-2 border-white text-white hover:bg-white hover:text-black w-full"
      >
        <div
          class={`w-10 h-10 rounded-full flex items-center justify-center mr-4 flex-shrink-0 ${iconColors[variant]}`}
        >
          <img src={Paperclip.src} alt="Download" class="w-5 h-5" />
        </div>
        <div class="flex flex-col justify-center relative w-full text-center">
          <p class="text-md uppercase font-[var(--font-display1)] group-hover:opacity-0 transition-opacity duration-300">
            Download CV
          </p>
          <p class="text-md uppercase font-[var(--font-display1)] absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            PDF â†“
          </p>
        </div>
      </a>
    )
  }
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const callBtn = document.querySelector("#callBtn");
    if (callBtn) {
      callBtn.addEventListener("click", () => {
        navigator.clipboard.writeText("61661126");
        alert("Nummer kopieret: 61661126");
      });
    }
  });
</script>
