---
import Mail from "../assets/Mail.svg";
import Paperclip from "../assets/Paperclip.svg";
import Phone from "../assets/Phone.svg";

const { variant = "primary", size = "medium" } = Astro.props;

/* base styling */
const buttonStyling =
  "relative min-w-60 w-full h-16 flex items-center justify-center overflow-hidden rounded-full font-medium transition-all duration-300 group  border-2 border-white text-white hover:bg-white hover:text-black max-w-80";

/* Sizes */
const sizeClasses = {
  large: "text-xl py-4 px-8",
  medium: "text-lg py-6 px-6",
  small: "text-base py-2 px-2",
};

/* Icon colors */
const iconColors = {
  privateMail: "bg-[var(--color-accent_red)]",
  workMail: "bg-[var(--color-accent_yellow)]",
  call: "bg-[var(--color-accent_green)]",
  download: "bg-[var(--color-accent_blue)]",
};
---

<div class="max-w-xs w-full">
  {
    variant === "privateMail" && (
      <a
        href="mailto:nschou@hotmail.com"
        class:list={[buttonStyling, sizeClasses[size]]}
      >
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center mr-3 flex-shrink-0"
          class:list={[iconColors[variant]]}
        >
          <img src={Mail.src} alt="Mail" class="w-6 h-6" />
        </div>
        <div class="flex flex-col items-start flex-1">
          <p>Privat Mail</p>
          <p class="text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            nschou@hotmail.com
          </p>
        </div>
      </a>
    )
  }

  {
    variant === "workMail" && (
      <a
        href="mailto:nisc0003@stud.ek.dk"
        class:list={[buttonStyling, sizeClasses[size]]}
      >
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center mr-3 flex-shrink-0"
          class:list={[iconColors[variant]]}
        >
          <img src={Mail.src} alt="Mail" class="w-6 h-6" />
        </div>
        <div class="flex flex-col items-start flex-1">
          <p>Studie Mail</p>
          <p class="text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            nisc0003@stud.ek.dk
          </p>
        </div>
      </a>
    )
  }

  {
    variant === "call" && (
      <button id="callBtn" class:list={[buttonStyling, sizeClasses[size]]}>
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center mr-3 flex-shrink-0"
          class:list={[iconColors[variant]]}
        >
          <img src={Phone.src} alt="Phone" class="w-6 h-6" />
        </div>
        <div class="flex flex-col items-start flex-1">
          <p>Telefonummer</p>
          <p class="text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            61661126
          </p>
        </div>
      </button>
    )
  }

  {
    variant === "download" && (
      <a
        href="/cv.pdf"
        download
        class:list={[buttonStyling, sizeClasses[size]]}
      >
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center mr-3 flex-shrink-0"
          class:list={[iconColors[variant]]}
        >
          <img src={Paperclip.src} alt="Download" class="w-6 h-6" />
        </div>
        <div class="flex flex-col items-start flex-1">
          <p>Download CV</p>
          <p class="text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            PDF â†“
          </p>
        </div>
      </a>
    )
  }
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const callBtn = document.querySelector("#callBtn");
    if (callBtn) {
      callBtn.addEventListener("click", () => {
        navigator.clipboard.writeText("61661126");
        alert("Number copied: 61661126");
      });
    }
  });
</script>
